(()=>{var e={};e.id=244,e.ids=[244],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4348:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>_,tree:()=>d});var s=t(7096),o=t(6132),c=t(7284),i=t.n(c),a=t(2564),n={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>a[e]);t.d(r,n);let d=["",{children:["collections",{children:["[collectionId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3516)),"/Users/macbook/Work/siren-store/frontend/src/app/collections/[collectionId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2215)),"/Users/macbook/Work/siren-store/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/macbook/Work/siren-store/frontend/src/app/collections/[collectionId]/page.tsx"],u="/collections/[collectionId]/page",p={require:t,loadChunk:()=>Promise.resolve()},_=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/collections/[collectionId]/page",pathname:"/collections/[collectionId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},200:(e,r,t)=>{Promise.resolve().then(t.bind(t,9162))},9162:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>page});var s=t(784),o=t(9885),c=t(2451),i=t.n(c),a=t(8642),n=t(5829),d=t.n(n),l=t(306),u=t(7228);let ProductCard_ProductCard=({product:e})=>{let{addToCart:r}=(0,l.useCart)();return(0,s.jsxs)("div",{className:d().productCard,role:"button",onClick:()=>{window.location.href=`/products/${e.slug}`},children:[(0,s.jsxs)("div",{className:d().imageWrapper,children:[s.jsx(i(),{src:`/images/products/${e.slug}/${e.slug}.jpg`,alt:e.name,width:292,height:374,className:d().productImage}),s.jsx("button",{className:d().addToCart,onClick:t=>{t.stopPropagation(),r({id:e.id,name:e.name,price:e.price,size:"S",quantity:1,slug:e.slug}),u.toast.success("Товар добавлен в корзину!")},children:s.jsx(a.Z,{name:"basket",width:24,height:24,alt:"Корзина"})})]}),(0,s.jsxs)("div",{className:d().productInfo,children:[s.jsx("h2",{className:d().productName,children:e.name}),(0,s.jsxs)("p",{className:d().productPrice,children:[e.price," грн"]})]})]})};var p=t(2231),_=t.n(p);let ProductList_ProductList=({products:e})=>s.jsx("div",{className:_().productsGrid,children:e.map(e=>s.jsx(ProductCard_ProductCard,{product:{...e,price:Number(e.price)}},e.id))});var m=t(675),x=t.n(m);async function fetchProducts(e){let r=await fetch(`https://siren-store.onrender.com/api/products?filters[collection][slug][$eq]=${e}&populate=*`);if(!r.ok)throw Error("Failed to fetch products");let t=await r.json();return t.data.map(e=>({id:e.id,name:e.name,slug:e.slug,price:e.price,description:e.description}))}let page=({params:e})=>{let[r,t]=(0,o.useState)([]);(0,o.useEffect)(()=>{(async function(){try{let r=await fetchProducts(e.collectionId);t(r)}catch(e){console.error("Ошибка при загрузке продуктов",e)}})()},[e.collectionId]);let c={moon_crystal:"Moon Crystal",christmas_song:"Christmas Song"}[e.collectionId]||"Коллекция",i={moon_crystal:["mint_dress","robe_emerald","black_floral_dress","blue_corset_dress","purple_shine_dress","blue_dress","emerald","set_purple_diamond","black_naked_dress"],christmas_song:["blue_baloon_dress"]}[e.collectionId]||[],a=r.sort((e,r)=>{let t=i.indexOf(e.slug),s=i.indexOf(r.slug);return -1===t?1:-1===s?-1:t-s});return(0,s.jsxs)("main",{className:x().main,children:[s.jsx("h1",{className:x().title,children:c}),s.jsx(ProductList_ProductList,{products:a})]})}},675:e=>{e.exports={main:"CollectionPage_main__vyyEb",title:"CollectionPage_title__onFMS"}},5829:e=>{e.exports={productCard:"ProductCard_productCard__b2gMB",imageWrapper:"ProductCard_imageWrapper__U_9S0",productImage:"ProductCard_productImage__JlVZo",addToCart:"ProductCard_addToCart__2v_VQ",productInfo:"ProductCard_productInfo__1Rbf6",productName:"ProductCard_productName__AUazF",productPrice:"ProductCard_productPrice__cZzeY"}},2231:e=>{e.exports={productsGrid:"ProductList_productsGrid__yyrc8"}},3516:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>c,default:()=>n});var s=t(5153);let o=(0,s.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/app/collections/[collectionId]/page.tsx`),{__esModule:c,$$typeof:i}=o,a=o.default,n=a}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[196,783],()=>__webpack_exec__(4348));module.exports=t})();