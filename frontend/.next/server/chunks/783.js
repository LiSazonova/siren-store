exports.id=783,exports.ids=[783],exports.modules={1550:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3724,23)),Promise.resolve().then(r.t.bind(r,5365,23)),Promise.resolve().then(r.t.bind(r,4900,23)),Promise.resolve().then(r.t.bind(r,4714,23)),Promise.resolve().then(r.t.bind(r,5392,23)),Promise.resolve().then(r.t.bind(r,8898,23))},534:(e,t,r)=>{Promise.resolve().then(r.bind(r,7228)),Promise.resolve().then(r.bind(r,6128)),Promise.resolve().then(r.bind(r,1624)),Promise.resolve().then(r.bind(r,306))},6128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(784);r(9885);var a=r(7228),n=r(3248);r(5996);var o=r(6918);let __WEBPACK_DEFAULT_EXPORT__=({children:e})=>s.jsx(n.rg,{clientId:"126878375392-5s628gs319unv9jkbqn921jicbiip8j8.apps.googleusercontent.com",children:(0,s.jsxs)(o.H,{children:[e,s.jsx(a.ToastContainer,{})]})})},1624:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Header_Header});var s=r(784),a=r(9885),n=r(8687),o=r.n(n),l=r(1440),i=r.n(l),c=r(2451),d=r.n(c),u=r(8658),h=r.n(u);let Logo_Logo=()=>s.jsx(i(),{href:"/",className:h().logo,children:s.jsx(d(),{src:"/images/logo/logo.svg",alt:"Siren Store",width:52,height:78,priority:!0})});var m=r(7114),_=r(9181),g=r.n(_);let Desktop=()=>{let e=(0,m.usePathname)();return(0,s.jsxs)("nav",{className:g().menu,children:[s.jsx(i(),{href:"/",className:`${g().menuItem} ${"/"===e?g().active:""}`,children:"Головна"}),s.jsx(i(),{href:"/collections",className:`${g().menuItem} ${"/collections"===e?g().active:""}`,children:"Колекції"}),s.jsx(i(),{href:"/about",className:`${g().menuItem} ${"/about-us"===e?g().active:""}`,children:"Про нас"})]})};var p=r(674),x=r.n(p),v=r(8642);let SearchBar_SearchBar=({isDesktop:e=!1,isSearchOpen:t=!1,onOpen:r,onClose:n})=>{let[o,l]=(0,a.useState)(""),[i,c]=(0,a.useState)([]),d=(0,m.useRouter)(),handleSearch=async e=>{let t=e.target.value.toLowerCase();if(l(t),t)try{let e=await fetch("https://siren-store.onrender.com/api/collections"),r=await fetch("https://siren-store.onrender.com/api/products"),s=await e.json(),a=await r.json(),n=s.data.filter(e=>e.title.toLowerCase().includes(t)).map(e=>({id:e.id,slug:e.slug,name:e.title,type:"collection"})),o=a.data.filter(e=>e.name.toLowerCase().includes(t)).map(e=>({id:e.id,slug:e.slug,name:e.name,type:"product"}));c([...n,...o])}catch(e){console.error("Ошибка при поиске:",e),c([])}else c([])},handleResultClick=(e,t)=>{"collection"===t?d.push(`/collections/${e}`):d.push(`/products/${e}`),l(""),c([]),n&&n()},handleKeyDown=e=>{if("Enter"===e.key){if(i.length>0){let e=i[0];handleResultClick(e.slug,e.type)}else d.push("/not-found"),l(""),c([])}};return e?(0,s.jsxs)("div",{className:x().searchContainer,children:[(0,s.jsxs)("div",{className:x().searchBar,children:[s.jsx("input",{type:"text",placeholder:"Пошук",className:x().searchInput,value:o,onChange:handleSearch,onKeyDown:handleKeyDown}),s.jsx(v.Z,{name:"search_grey",className:x().searchIcon,width:25,height:24,alt:"Search Icon"})]}),i.length>0&&s.jsx("div",{className:x().dropdownMenu,children:i.map(e=>s.jsx("div",{className:x().dropdownItem,onClick:()=>handleResultClick(e.slug,e.type),children:e.name},e.id))})]}):t?(0,s.jsxs)("div",{className:x().searchContainer,children:[(0,s.jsxs)("div",{className:x().searchBar,children:[s.jsx("input",{type:"text",placeholder:"Пошук",className:x().searchInput,value:o,onChange:handleSearch,onKeyDown:handleKeyDown}),s.jsx(v.Z,{name:"search_grey",className:x().searchIcon,width:25,height:24,alt:"Search Icon"})]}),s.jsx("button",{onClick:n,"aria-label":"Close Search",className:x().closeButton,children:s.jsx(v.Z,{name:"close",width:25,height:24,alt:"Close Icon"})}),i.length>0&&s.jsx("div",{className:x().dropdownMenu,children:i.map(e=>s.jsx("div",{className:x().dropdownItem,onClick:()=>handleResultClick(e.slug,e.type),children:e.name},e.id))})]}):s.jsx("button",{onClick:r,"aria-label":"Search Icon",className:x().searchButton,children:s.jsx(v.Z,{name:"search",width:25,height:24,alt:"Search Icon"})})};var j=r(2628),C=r.n(j);let DesktopIcons_DesktopIcons=({onUserClick:e,onCartClick:t,cartItems:r})=>(0,s.jsxs)("div",{className:C().desktopIcons,children:[s.jsx(i(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:s.jsx(v.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,s.jsxs)("div",{className:C().cartWrapper,onClick:t,children:[s.jsx(v.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),r>0&&s.jsx("span",{className:C().cartCount,children:r})]}),s.jsx(v.Z,{name:"user",width:24,height:24,alt:"Пользователь",onClick:e})]});var f=r(4523),b=r.n(f);let Icons_Icons=({onCartClick:e,cartCount:t})=>(0,s.jsxs)("div",{className:b().icons,children:[s.jsx(i(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:s.jsx(v.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,s.jsxs)("div",{className:b().cartWrapper,onClick:e,children:[s.jsx(v.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),t>0&&s.jsx("span",{className:b().cartCount,children:t})]})]});var I=r(6496),k=r.n(I),w=r(6918);let MobileMenu_MobileMenu=()=>{let[e,t]=(0,a.useState)(!1),r=(0,m.usePathname)(),{user:n,logout:o}=(0,w.a)(),l=(0,m.useRouter)(),c=(0,a.useRef)(null),d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let handleClickOutside=e=>{!c.current||c.current.contains(e.target)||d.current?.contains(e.target)||t(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{ref:d,onClick:e=>{e.stopPropagation(),t(e=>!e)},"aria-label":e?"Close Menu":"Open Menu",className:k().menuButton,children:s.jsx(v.Z,{name:e?"close":"menu",width:24,height:24,alt:e?"Close Menu":"Open Menu"})}),e&&s.jsx("nav",{className:`${k().mobileMenu} ${e?k().mobileMenuOpen:""}`,ref:c,children:(0,s.jsxs)("div",{className:k().mobileMenuContainer,children:[s.jsx(i(),{href:"/",className:`${k().mobileMenuItem} ${"/"===r?k().active:""}`,onClick:()=>t(!1),children:"Головна"}),s.jsx(i(),{href:"/collections",className:`${k().mobileMenuItem} ${"/collections"===r?k().active:""}`,onClick:()=>t(!1),children:"Колекції"}),s.jsx(i(),{href:"/about",className:`${k().mobileMenuItem} ${"/about-us"===r?k().active:""}`,onClick:()=>t(!1),children:"Про нас"}),s.jsx("div",{className:`${k().mobileMenuItem} ${k().authLinks}`,children:n?s.jsx("button",{onClick:()=>{o(),t(!1),l.push("/")},className:k().authButton,children:"Вийти"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(i(),{href:"/auth/login",onClick:()=>t(!1),className:k().authLink,children:"Вхід"}),s.jsx(i(),{href:"/auth/register",onClick:()=>t(!1),className:k().authLink,children:"Реєстрація"})]})})]})})]})};var S=r(306);let Header_Header=()=>{let{user:e,logout:t}=(0,w.a)(),{cartItems:r}=(0,S.useCart)(),[n,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=(0,m.useRouter)(),h=(0,a.useRef)(null),handleCartClick=()=>{u.push("/cart")};return(0,a.useEffect)(()=>{let handleClickOutside=e=>{h.current&&!h.current.contains(e.target)&&d(!1)};return c?document.addEventListener("mousedown",handleClickOutside):document.removeEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[c]),s.jsx("header",{className:o().header,children:(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsxs)("div",{className:o().desktopOnly,children:[s.jsx(Logo_Logo,{}),s.jsx(Desktop,{}),s.jsx(SearchBar_SearchBar,{isDesktop:!0}),s.jsx(DesktopIcons_DesktopIcons,{onUserClick:()=>d(!c),onCartClick:handleCartClick,cartItems:r.length}),c&&s.jsx("div",{className:o().authDropdown,ref:h,children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["Привіт, ",e.username,"!"]}),s.jsx("button",{onClick:()=>{t(),d(!1),u.push("/")},children:"ВИЙТИ"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(i(),{href:"/auth/login",children:"ВХІД"}),s.jsx(i(),{href:"/auth/register",children:"РЕЄСТРАЦІЯ"})]})})]}),(0,s.jsxs)("div",{className:o().mobileOnly,children:[s.jsx(Logo_Logo,{}),(0,s.jsxs)("div",{className:o().mobileNav,children:[s.jsx(SearchBar_SearchBar,{isDesktop:!1,isSearchOpen:n,onOpen:()=>l(!0),onClose:()=>l(!1)}),!n&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(Icons_Icons,{onCartClick:handleCartClick,cartCount:r.length}),s.jsx(MobileMenu_MobileMenu,{})]})]})]})]})})}},8642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(784);r(9885);var a=r(2451),n=r.n(a),o=r(4885),l=r.n(o);let __WEBPACK_DEFAULT_EXPORT__=({name:e,width:t,height:r,alt:a,className:o,onClick:i})=>s.jsx("div",{className:`${l().iconContainer} ${o||""}`,onClick:i,role:"button","aria-label":a||e,tabIndex:0,onKeyPress:e=>{"Enter"===e.key&&i?.()},children:s.jsx(n(),{src:`/images/icons/${e}.svg`,alt:a||e,width:t,height:r})})},6918:(e,t,r)=>{"use strict";r.d(t,{H:()=>AuthProvider,a:()=>useAuth});var s=r(784),a=r(9885),n=r(5035),o=r(4722);let l=(0,a.createContext)(void 0),useAuth=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=({children:e})=>{let[t,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("jwt"),t=localStorage.getItem("user");if(e&&t)try{let e=JSON.parse(t);r(e)}catch(e){console.error("Ошибка восстановления пользователя:",e),localStorage.removeItem("jwt"),localStorage.removeItem("user")}},[]);let register=async(e,t,s)=>{try{let a=await (0,n.a$)(e,t,s),{jwt:o,user:l}=a.data;return localStorage.setItem("jwt",o),localStorage.setItem("user",JSON.stringify(l)),r(l),{success:!0,data:a.data}}catch(e){if(e instanceof o.d7)return{success:!1,message:e.response?.data?.error?.message||"Ошибка регистрации"};return{success:!1,message:"Произошла неизвестная ошибка"}}},login=async(e,t)=>{try{let s=await (0,n.pH)(e,t),{jwt:a,user:o}=s.data;return localStorage.setItem("jwt",a),localStorage.setItem("user",JSON.stringify(o)),r(o),!0}catch(e){return console.error("Ошибка логина:",e),!1}};return s.jsx(l.Provider,{value:{register,login,user:t,logout:()=>{r(null),localStorage.removeItem("jwt"),localStorage.removeItem("user")}},children:e})}},306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CartProvider:()=>CartProvider,useCart:()=>useCart});var s=r(784),a=r(9885);let n=(0,a.createContext)(void 0),CartProvider=({children:e})=>{let[t,r]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("cartItems");if(e){let t=JSON.parse(e);console.log("Loaded cart items from localStorage:",t),r(t)}else console.log("No cart items found in localStorage.")}catch(e){console.error("Ошибка при восстановлении данных корзины:",e)}finally{l(!0)}},[]),(0,a.useEffect)(()=>{o&&(console.log("Saving cart items to localStorage:",t),localStorage.setItem("cartItems",JSON.stringify(t)))},[t,o]),s.jsx(n.Provider,{value:{cartItems:t,addToCart:e=>{r(t=>{let r=t.find(t=>t.id===e.id&&t.size===e.size);return r?(console.log("Updating quantity for existing item:",r),t.map(t=>t.id===e.id&&t.size===e.size?{...t,quantity:t.quantity+e.quantity}:t)):(console.log("Adding new item to cart:",e),[...t,e])})},removeCartItem:e=>{console.log("Removing item from cart with id:",e),r(t=>t.filter(t=>t.id!==e))}},children:e})},useCart=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},5035:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>n,a$:()=>registerUser,pH:()=>loginUser});var s=r(1145);let a=s.default.create({baseURL:"https://siren-store.onrender.com"});a.interceptors.request.use(e=>e,e=>Promise.reject(e));let registerUser=async(e,t,r)=>{console.log("Данные для API:",{username:e,email:t,password:r});try{let s=await a.post("/api/auth/local/register",{username:e,email:t,password:r});return console.log("Успешный ответ от API:",s.data),{success:!0,data:s.data}}catch(e){return console.error("Ошибка в запросе API:",e.response?.data||e.message),{success:!1,message:e.response?.data?.error?.message||"Ошибка регистрации"}}},loginUser=async(e,t)=>{try{let r=await a.post("/api/auth/local",{identifier:e,password:t});return console.log("Логин успешен:",r.data),r}catch(e){throw console.error("Ошибка логина:",e.response?.data||e.message),e}},n=a},2628:e=>{e.exports={desktopIcons:"DesktopIcons_desktopIcons__N7bkl",cartWrapper:"DesktopIcons_cartWrapper__YxCJ2",cartCount:"DesktopIcons_cartCount__q8784"}},9181:e=>{e.exports={menu:"Desktop_menu__nCmTb",menuItem:"Desktop_menuItem__JIdXG",active:"Desktop_active__HI_zY"}},8687:e=>{e.exports={header:"Header_header__AF_3G",container:"Header_container__3JNoS",desktopOnly:"Header_desktopOnly___h00J",mobileOnly:"Header_mobileOnly__y57Tj",mobileNav:"Header_mobileNav__6HOrM",authDropdown:"Header_authDropdown__V1fW3",cartIcon:"Header_cartIcon__d8fsU",cartBadge:"Header_cartBadge__cmo77"}},4885:e=>{e.exports={iconButton:"Icon_iconButton__yY2i9"}},4523:e=>{e.exports={icons:"Icons_icons__nHEjY",cartWrapper:"Icons_cartWrapper__sY3EY",cartCount:"Icons_cartCount___IWCa"}},8658:e=>{e.exports={logo:"Logo_logo__c5nVK"}},6496:e=>{e.exports={menuButton:"MobileMenu_menuButton__m4HHI",mobileMenu:"MobileMenu_mobileMenu__EfGda",mobileMenuOpen:"MobileMenu_mobileMenuOpen__M703R",mobileMenuContainer:"MobileMenu_mobileMenuContainer__lDgGV",mobileMenuItem:"MobileMenu_mobileMenuItem__Vuz_a",authLinks:"MobileMenu_authLinks__xc0g2",authLink:"MobileMenu_authLink__Wp1OV",active:"MobileMenu_active__GurVK",authButton:"MobileMenu_authButton__1MzSh"}},674:e=>{e.exports={searchBar:"SearchBar_searchBar__hUGQq",searchInput:"SearchBar_searchInput__jatEt",searchIcon:"SearchBar_searchIcon__Hx8hf",searchContainer:"SearchBar_searchContainer__uph7D",closeButton:"SearchBar_closeButton__xl5On",searchButton:"SearchBar_searchButton__lFj8T",dropdownMenu:"SearchBar_dropdownMenu__5tMiv",dropdownItem:"SearchBar_dropdownItem__O11TE",noResults:"SearchBar_noResults__NIyhy"}},2215:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout,metadata:()=>S});var s=r(4656),a=r(3435),n=r.n(a),o=r(3386),l=r.n(o),i=r(7849),c=r.n(i),d=r(8975),u=r.n(d);r(5023);var h=r(5153);let m=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/components/Header/Header.tsx`),{__esModule:_,$$typeof:g}=m,p=m.default;var x=r(2004);r(7001);let v=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/components/ClientProviders/ClientProviders.tsx`),{__esModule:j,$$typeof:C}=v,f=v.default,b=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/context/CartContext.tsx`),{__esModule:I,$$typeof:k}=b;b.default;let w=b.CartProvider;b.useCart;let S={title:"Siren Store",description:"Магазин одягу Siren"};function RootLayout({children:e}){return(0,s.jsxs)("html",{lang:"uk",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("title",{children:"Siren Store"})]}),s.jsx("body",{className:`${n().variable} ${l().variable} ${c().variable} ${u().variable}`,children:s.jsx(f,{children:(0,s.jsxs)(w,{children:[s.jsx(p,{}),e,s.jsx(x.Ix,{})]})})})]})}},5023:()=>{}};