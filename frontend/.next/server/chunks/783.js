exports.id=783,exports.ids=[783],exports.modules={1550:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3724,23)),Promise.resolve().then(r.t.bind(r,5365,23)),Promise.resolve().then(r.t.bind(r,4900,23)),Promise.resolve().then(r.t.bind(r,4714,23)),Promise.resolve().then(r.t.bind(r,5392,23)),Promise.resolve().then(r.t.bind(r,8898,23))},534:(e,t,r)=>{Promise.resolve().then(r.bind(r,7228)),Promise.resolve().then(r.bind(r,6128)),Promise.resolve().then(r.bind(r,1624)),Promise.resolve().then(r.bind(r,306))},6128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(784);r(9885);var a=r(7228),n=r(3248);r(5996);var o=r(6918);let __WEBPACK_DEFAULT_EXPORT__=({children:e})=>s.jsx(n.rg,{clientId:"126878375392-5s628gs319unv9jkbqn921jicbiip8j8.apps.googleusercontent.com",children:(0,s.jsxs)(o.H,{children:[e,s.jsx(a.ToastContainer,{})]})})},1624:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Header_Header});var s=r(784),a=r(9885),n=r(8687),o=r.n(n),i=r(1440),l=r.n(i),c=r(2451),u=r.n(c),d=r(8658),h=r.n(d);let Logo_Logo=()=>s.jsx(l(),{href:"/",className:h().logo,children:s.jsx(u(),{src:"/images/logo/logo.svg",alt:"Siren Store",width:52,height:78,priority:!0})});var m=r(7114),_=r(9181),x=r.n(_);let Desktop=()=>{let e=(0,m.usePathname)();return(0,s.jsxs)("nav",{className:x().menu,children:[s.jsx(l(),{href:"/",className:`${x().menuItem} ${"/"===e?x().active:""}`,children:"Головна"}),s.jsx(l(),{href:"/collections",className:`${x().menuItem} ${"/collections"===e?x().active:""}`,children:"Колекції"}),s.jsx(l(),{href:"/about",className:`${x().menuItem} ${"/about-us"===e?x().active:""}`,children:"Про нас"})]})};var g=r(674),p=r.n(g),v=r(8642);let SearchBar_SearchBar=({isDesktop:e=!1,isSearchOpen:t=!1,onOpen:r,onClose:a})=>e?s.jsx("div",{className:p().searchContainer,children:(0,s.jsxs)("div",{className:p().searchBar,children:[s.jsx("input",{type:"text",placeholder:"Пошук",className:p().searchInput}),s.jsx(v.Z,{name:"search_grey",className:p().searchIcon,width:25,height:24,alt:"Search Icon"})]})}):t?(0,s.jsxs)("div",{className:p().searchContainer,children:[(0,s.jsxs)("div",{className:p().searchBar,children:[s.jsx("input",{type:"text",placeholder:"Пошук",className:p().searchInput}),s.jsx(v.Z,{name:"search_grey",className:p().searchIcon,width:25,height:24,alt:"Search Icon"})]}),s.jsx("button",{onClick:a,"aria-label":"Close Search",className:p().closeButton,children:s.jsx(v.Z,{name:"close",width:25,height:24,alt:"Close Icon"})})]}):s.jsx("button",{onClick:r,"aria-label":"Search Icon",className:p().searchButton,children:s.jsx(v.Z,{name:"search",width:25,height:24,alt:"Search Icon"})});var j=r(2628),C=r.n(j);let DesktopIcons_DesktopIcons=({onUserClick:e,onCartClick:t,cartItems:r})=>(0,s.jsxs)("div",{className:C().desktopIcons,children:[s.jsx(l(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:s.jsx(v.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,s.jsxs)("div",{className:C().cartWrapper,onClick:t,children:[s.jsx(v.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),r>0&&s.jsx("span",{className:C().cartCount,children:r})]}),s.jsx(v.Z,{name:"user",width:24,height:24,alt:"Пользователь",onClick:e})]});var b=r(4523),k=r.n(b);let Icons_Icons=({onCartClick:e,cartCount:t})=>(0,s.jsxs)("div",{className:k().icons,children:[s.jsx(l(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:s.jsx(v.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,s.jsxs)("div",{className:k().cartWrapper,onClick:e,children:[s.jsx(v.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),t>0&&s.jsx("span",{className:k().cartCount,children:t})]})]});var f=r(6496),I=r.n(f),M=r(6918);let MobileMenu_MobileMenu=()=>{let[e,t]=(0,a.useState)(!1),r=(0,m.usePathname)(),{user:n,logout:o}=(0,M.a)(),i=(0,m.useRouter)(),c=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let handleClickOutside=e=>{!c.current||c.current.contains(e.target)||u.current?.contains(e.target)||t(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{ref:u,onClick:e=>{e.stopPropagation(),t(e=>!e)},"aria-label":e?"Close Menu":"Open Menu",className:I().menuButton,children:s.jsx(v.Z,{name:e?"close":"menu",width:24,height:24,alt:e?"Close Menu":"Open Menu"})}),e&&s.jsx("nav",{className:`${I().mobileMenu} ${e?I().mobileMenuOpen:""}`,ref:c,children:(0,s.jsxs)("div",{className:I().mobileMenuContainer,children:[s.jsx(l(),{href:"/",className:`${I().mobileMenuItem} ${"/"===r?I().active:""}`,onClick:()=>t(!1),children:"Головна"}),s.jsx(l(),{href:"/collections",className:`${I().mobileMenuItem} ${"/collections"===r?I().active:""}`,onClick:()=>t(!1),children:"Колекції"}),s.jsx(l(),{href:"/about",className:`${I().mobileMenuItem} ${"/about-us"===r?I().active:""}`,onClick:()=>t(!1),children:"Про нас"}),s.jsx("div",{className:`${I().mobileMenuItem} ${I().authLinks}`,children:n?s.jsx("button",{onClick:()=>{o(),t(!1),i.push("/")},className:I().authButton,children:"Вийти"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l(),{href:"/auth/login",onClick:()=>t(!1),className:I().authLink,children:"Вхід"}),s.jsx(l(),{href:"/auth/register",onClick:()=>t(!1),className:I().authLink,children:"Реєстрація"})]})})]})})]})};var N=r(306);let Header_Header=()=>{let{user:e,logout:t}=(0,M.a)(),{cartItems:r}=(0,N.useCart)(),[n,i]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),d=(0,m.useRouter)(),h=(0,a.useRef)(null),handleCartClick=()=>{d.push("/cart")};return(0,a.useEffect)(()=>{let handleClickOutside=e=>{h.current&&!h.current.contains(e.target)&&u(!1)};return c?document.addEventListener("mousedown",handleClickOutside):document.removeEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[c]),s.jsx("header",{className:o().header,children:(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsxs)("div",{className:o().desktopOnly,children:[s.jsx(Logo_Logo,{}),s.jsx(Desktop,{}),s.jsx(SearchBar_SearchBar,{isDesktop:!0}),s.jsx(DesktopIcons_DesktopIcons,{onUserClick:()=>u(!c),onCartClick:handleCartClick,cartItems:r.length}),c&&s.jsx("div",{className:o().authDropdown,ref:h,children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["Привіт, ",e.username,"!"]}),s.jsx("button",{onClick:()=>{t(),u(!1),d.push("/")},children:"ВИЙТИ"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l(),{href:"/auth/login",children:"ВХІД"}),s.jsx(l(),{href:"/auth/register",children:"РЕЄСТРАЦІЯ"})]})})]}),(0,s.jsxs)("div",{className:o().mobileOnly,children:[s.jsx(Logo_Logo,{}),(0,s.jsxs)("div",{className:o().mobileNav,children:[s.jsx(SearchBar_SearchBar,{isDesktop:!1,isSearchOpen:n,onOpen:()=>i(!0),onClose:()=>i(!1)}),!n&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(Icons_Icons,{onCartClick:handleCartClick,cartCount:r.length}),s.jsx(MobileMenu_MobileMenu,{})]})]})]})]})})}},8642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(784);r(9885);var a=r(2451),n=r.n(a),o=r(4885),i=r.n(o);let __WEBPACK_DEFAULT_EXPORT__=({name:e,width:t,height:r,alt:a,className:o,onClick:l})=>s.jsx("div",{className:`${i().iconContainer} ${o||""}`,onClick:l,role:"button","aria-label":a||e,tabIndex:0,onKeyPress:e=>{"Enter"===e.key&&l?.()},children:s.jsx(n(),{src:`/images/icons/${e}.svg`,alt:a||e,width:t,height:r})})},6918:(e,t,r)=>{"use strict";r.d(t,{H:()=>AuthProvider,a:()=>useAuth});var s=r(784),a=r(9885),n=r(5035),o=r(4722);let i=(0,a.createContext)(void 0),useAuth=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=({children:e})=>{let[t,r]=(0,a.useState)(null),register=async(e,t,s)=>{try{let a=await (0,n.a$)(e,t,s);return r(a.data),localStorage.setItem("jwt",a.data.token),{success:!0,data:a.data}}catch(e){if(e instanceof o.d7)return{success:!1,message:e.response?.data?.message||"Ошибка регистрации"};if(e instanceof Error)return{success:!1,message:e.message||"Ошибка регистрации"};return{success:!1,message:"Произошла неизвестная ошибка"}}},login=async(e,t)=>{try{let s=await (0,n.pH)(e,t);return r(s.data),localStorage.setItem("jwt",s.data.token),!0}catch(e){return o.d7,!1}};return s.jsx(i.Provider,{value:{register,login,user:t,logout:()=>{r(null),localStorage.removeItem("jwt")}},children:e})}},306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CartProvider:()=>CartProvider,useCart:()=>useCart});var s=r(784),a=r(9885);let n=(0,a.createContext)(void 0),CartProvider=({children:e})=>{let[t,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("cartItems");if(e){let t=JSON.parse(e);console.log("Loaded cart items from localStorage:",t),r(t)}else console.log("No cart items found in localStorage.")}catch(e){console.error("Ошибка при восстановлении данных корзины:",e)}finally{i(!0)}},[]),(0,a.useEffect)(()=>{o&&(console.log("Saving cart items to localStorage:",t),localStorage.setItem("cartItems",JSON.stringify(t)))},[t,o]),s.jsx(n.Provider,{value:{cartItems:t,addToCart:e=>{r(t=>{let r=t.find(t=>t.id===e.id&&t.size===e.size);return r?(console.log("Updating quantity for existing item:",r),t.map(t=>t.id===e.id&&t.size===e.size?{...t,quantity:t.quantity+e.quantity}:t)):(console.log("Adding new item to cart:",e),[...t,e])})},removeCartItem:e=>{console.log("Removing item from cart with id:",e),r(t=>t.filter(t=>t.id!==e))}},children:e})},useCart=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},5035:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>n,a$:()=>registerUser,pH:()=>loginUser});var s=r(1145);let a=s.default.create({baseURL:"http://localhost:1337"});a.interceptors.request.use(e=>e,e=>Promise.reject(e));let registerUser=(e,t,r)=>a.post("/api/auth/local/register",{username:e,email:t,password:r}),loginUser=(e,t)=>a.post("/api/auth/local",{identifier:e,password:t}),n=a},2628:e=>{e.exports={desktopIcons:"DesktopIcons_desktopIcons__N7bkl",cartWrapper:"DesktopIcons_cartWrapper__YxCJ2",cartCount:"DesktopIcons_cartCount__q8784"}},9181:e=>{e.exports={menu:"Desktop_menu__nCmTb",menuItem:"Desktop_menuItem__JIdXG",active:"Desktop_active__HI_zY"}},8687:e=>{e.exports={header:"Header_header__AF_3G",container:"Header_container__3JNoS",desktopOnly:"Header_desktopOnly___h00J",mobileOnly:"Header_mobileOnly__y57Tj",mobileNav:"Header_mobileNav__6HOrM",authDropdown:"Header_authDropdown__V1fW3",cartIcon:"Header_cartIcon__d8fsU",cartBadge:"Header_cartBadge__cmo77"}},4885:e=>{e.exports={iconButton:"Icon_iconButton__yY2i9"}},4523:e=>{e.exports={icons:"Icons_icons__nHEjY",cartWrapper:"Icons_cartWrapper__sY3EY",cartCount:"Icons_cartCount___IWCa"}},8658:e=>{e.exports={logo:"Logo_logo__c5nVK"}},6496:e=>{e.exports={menuButton:"MobileMenu_menuButton__m4HHI",mobileMenu:"MobileMenu_mobileMenu__EfGda",mobileMenuOpen:"MobileMenu_mobileMenuOpen__M703R",mobileMenuContainer:"MobileMenu_mobileMenuContainer__lDgGV",mobileMenuItem:"MobileMenu_mobileMenuItem__Vuz_a",authLinks:"MobileMenu_authLinks__xc0g2",authLink:"MobileMenu_authLink__Wp1OV",active:"MobileMenu_active__GurVK",authButton:"MobileMenu_authButton__1MzSh"}},674:e=>{e.exports={searchBar:"SearchBar_searchBar__hUGQq",searchInput:"SearchBar_searchInput__jatEt",searchIcon:"SearchBar_searchIcon__Hx8hf",searchContainer:"SearchBar_searchContainer__uph7D",closeButton:"SearchBar_closeButton__xl5On",searchButton:"SearchBar_searchButton__lFj8T"}},2215:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout,metadata:()=>N});var s=r(4656),a=r(3435),n=r.n(a),o=r(3386),i=r.n(o),l=r(7849),c=r.n(l),u=r(8975),d=r.n(u);r(5023);var h=r(5153);let m=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/components/Header/Header.tsx`),{__esModule:_,$$typeof:x}=m,g=m.default;var p=r(2004);r(7001);let v=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/components/ClientProviders/ClientProviders.tsx`),{__esModule:j,$$typeof:C}=v,b=v.default,k=(0,h.createProxy)(String.raw`/Users/macbook/Work/siren-store/frontend/src/context/CartContext.tsx`),{__esModule:f,$$typeof:I}=k;k.default;let M=k.CartProvider;k.useCart;let N={title:"Siren Store",description:"Магазин одягу Siren"};function RootLayout({children:e}){return(0,s.jsxs)("html",{lang:"uk",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("title",{children:"Siren Store"})]}),s.jsx("body",{className:`${n().variable} ${i().variable} ${c().variable} ${d().variable}`,children:s.jsx(b,{children:(0,s.jsxs)(M,{children:[s.jsx(g,{}),e,s.jsx(p.Ix,{})]})})})]})}},5023:()=>{}};