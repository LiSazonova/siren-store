(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{6483:function(e,t,a){Promise.resolve().then(a.bind(a,8816))},8816:function(e,t,a){"use strict";a.r(t);var r=a(7437),s=a(4027),i=a(3951),c=a.n(i);t.default=()=>{let{cartItems:e}=(0,s.useCart)(),t=e.reduce((e,t)=>{let a=Number(t.price)||0,r=Number(t.quantity)||0;return e+a*r},0);return e.length?(0,r.jsxs)("main",{className:c().checkoutPage,children:[(0,r.jsx)("h1",{className:c().title,children:"Оформление заказа"}),(0,r.jsx)("div",{className:c().cartItems,children:e.map(e=>(0,r.jsxs)("div",{className:c().cartItem,children:[(0,r.jsx)("div",{className:c().imageWrapper,children:(0,r.jsx)("img",{src:"/images/products/".concat(e.slug,"/").concat(e.slug,".jpg"),alt:e.name,className:c().image})}),(0,r.jsxs)("div",{className:c().details,children:[(0,r.jsx)("h2",{className:c().name,children:e.name}),(0,r.jsxs)("p",{className:c().size,children:["Размер: ",e.size]}),(0,r.jsxs)("p",{className:c().quantity,children:["Количество: ",e.quantity]}),(0,r.jsxs)("p",{className:c().price,children:[Number(e.price)*Number(e.quantity)," грн"]})]})]},e.id))}),(0,r.jsx)("div",{className:c().summary,children:(0,r.jsxs)("p",{className:c().total,children:["Итоговая сумма: ",(0,r.jsxs)("span",{children:[t," грн"]})]})}),(0,r.jsxs)("form",{className:c().form,onSubmit:e=>{e.preventDefault(),alert("Заказ успешно оформлен!")},children:[(0,r.jsx)("h2",{className:c().formTitle,children:"Ваши данные"}),(0,r.jsx)("input",{className:c().input,type:"text",name:"name",placeholder:"Имя и фамилия",required:!0}),(0,r.jsx)("input",{className:c().input,type:"email",name:"email",placeholder:"E-mail",required:!0}),(0,r.jsx)("input",{className:c().input,type:"text",name:"address",placeholder:"Адрес доставки",required:!0}),(0,r.jsx)("button",{className:c().submitButton,type:"submit",children:"Оформить заказ"})]})]}):(0,r.jsx)("h1",{className:c().emptyCart,children:"Корзина пуста"})}},4027:function(e,t,a){"use strict";a.r(t),a.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var r=a(7437),s=a(2265);let i=(0,s.createContext)(void 0),CartProvider=e=>{let{children:t}=e,[a,c]=(0,s.useState)([]),[o,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("cartItems");if(e){let t=JSON.parse(e);console.log("Loaded cart items from localStorage:",t),c(t)}else console.log("No cart items found in localStorage.")}catch(e){console.error("Ошибка при восстановлении данных корзины:",e)}finally{n(!0)}},[]),(0,s.useEffect)(()=>{o&&(console.log("Saving cart items to localStorage:",a),localStorage.setItem("cartItems",JSON.stringify(a)))},[a,o]),(0,r.jsx)(i.Provider,{value:{cartItems:a,addToCart:e=>{c(t=>{let a=t.find(t=>t.id===e.id&&t.size===e.size);return a?(console.log("Updating quantity for existing item:",a),t.map(t=>t.id===e.id&&t.size===e.size?{...t,quantity:t.quantity+e.quantity}:t)):(console.log("Adding new item to cart:",e),[...t,e])})},removeCartItem:e=>{console.log("Removing item from cart with id:",e),c(t=>t.filter(t=>t.id!==e))}},children:t})},useCart=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},3951:function(e){e.exports={checkoutPage:"CheckoutPage_checkoutPage__vLXLh",title:"CheckoutPage_title__eFzt4",cartItems:"CheckoutPage_cartItems__LEkDE",cartItem:"CheckoutPage_cartItem__vGgmF",imageWrapper:"CheckoutPage_imageWrapper__43rW9",image:"CheckoutPage_image__kHVQv",details:"CheckoutPage_details___7xt8",name:"CheckoutPage_name__oLKyr",size:"CheckoutPage_size__UIhL7",quantity:"CheckoutPage_quantity__leDgH",price:"CheckoutPage_price__U5_r9",summary:"CheckoutPage_summary__nIhY4",total:"CheckoutPage_total__lx9Ft",form:"CheckoutPage_form__lpStP",formTitle:"CheckoutPage_formTitle__IEhP_",input:"CheckoutPage_input__SeJsq",submitButton:"CheckoutPage_submitButton__EqF__"}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(2265),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var r,i={},l=null,u=null;for(r in void 0!==a&&(l=""+a),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,r)&&!n.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6483)}),_N_E=e.O()}]);