(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{8826:function(e,t,a){Promise.resolve().then(a.bind(a,2689))},679:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{unstable_getImgProps:function(){return unstable_getImgProps},default:function(){return l}});let r=a(1024),n=a(7929),s=a(2637),i=a(413),o=r._(a(9950)),unstable_getImgProps=e=>{(0,s.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}},l=i.Image},2689:function(e,t,a){"use strict";a.r(t);var r=a(7437),n=a(4027),s=a(4033),i=a(571),o=a.n(i),l=a(6691),c=a.n(l);t.default=()=>{let{cartItems:e,removeCartItem:t}=(0,n.useCart)(),a=(0,s.useRouter)(),i=e.reduce((e,t)=>{let a=Number(t.price)||0,r=Number(t.quantity)||0;return e+a*r},0),handleNavigateToProduct=e=>{a.push("/products/".concat(e))};return e.length?(0,r.jsxs)("main",{className:o().cartPage,children:[(0,r.jsxs)("div",{className:o().header,children:[(0,r.jsx)("div",{className:o().title,children:"НАЙМЕНУВАННЯ"}),(0,r.jsx)("div",{className:o().size,children:"РОЗМІР"}),(0,r.jsx)("div",{className:o().quantity,children:"КІЛЬКІСТЬ"}),(0,r.jsx)("div",{className:o().price,children:"ВАРТІСТЬ"})]}),(0,r.jsx)("div",{className:o().cartItems,children:e.map(e=>(0,r.jsxs)("div",{className:o().cartItem,children:[(0,r.jsxs)("div",{className:o().leftColumn,children:[(0,r.jsx)("h2",{className:o().name,children:e.name}),(0,r.jsx)("div",{className:o().imageWrapper,onClick:()=>handleNavigateToProduct(e.slug),children:(0,r.jsx)(c(),{src:"/images/products/".concat(e.slug,"/").concat(e.slug,".jpg"),alt:e.name,width:188,height:240,className:o().image})})]}),(0,r.jsxs)("div",{className:o().rightColumn,children:[(0,r.jsx)("button",{className:o().removeButton,onClick:()=>t(e.id),children:"✕"}),(0,r.jsxs)("select",{className:o().sizeSelector,defaultValue:e.size,children:[(0,r.jsx)("option",{value:"S",children:"S"}),(0,r.jsx)("option",{value:"M",children:"M"}),(0,r.jsx)("option",{value:"L",children:"L"}),(0,r.jsx)("option",{value:"XL",children:"XL"})]}),(0,r.jsx)("input",{className:o().quantityInput,type:"number",defaultValue:e.quantity,min:"1"}),(0,r.jsxs)("p",{className:o().price,children:[Number(e.price)*Number(e.quantity)," грн"]})]})]},e.id))}),(0,r.jsxs)("div",{className:o().totalSection,children:[(0,r.jsx)("span",{className:o().totalLabel,children:"СУММА ЗАМОВЛЕННЯ:"}),(0,r.jsxs)("span",{className:o().totalAmount,children:[i," грн"]})]}),(0,r.jsx)("button",{className:o().checkoutButton,onClick:()=>{a.push("/checkout")},children:"ОФОРМИТИ ЗАМОВЛЕННЯ"})]}):(0,r.jsx)("h1",{className:o().emptyCart,children:"Ничего не найдено"})}},4027:function(e,t,a){"use strict";a.r(t),a.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var r=a(7437),n=a(2265);let s=(0,n.createContext)(void 0),CartProvider=e=>{let{children:t}=e,[a,i]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{try{let e=localStorage.getItem("cartItems");if(e){let t=JSON.parse(e);console.log("Loaded cart items from localStorage:",t),i(t)}else console.log("No cart items found in localStorage.")}catch(e){console.error("Ошибка при восстановлении данных корзины:",e)}finally{l(!0)}},[]),(0,n.useEffect)(()=>{o&&(console.log("Saving cart items to localStorage:",a),localStorage.setItem("cartItems",JSON.stringify(a)))},[a,o]),(0,r.jsx)(s.Provider,{value:{cartItems:a,addToCart:e=>{i(t=>{let a=t.find(t=>t.id===e.id&&t.size===e.size);return a?(console.log("Updating quantity for existing item:",a),t.map(t=>t.id===e.id&&t.size===e.size?{...t,quantity:t.quantity+e.quantity}:t)):(console.log("Adding new item to cart:",e),[...t,e])})},removeCartItem:e=>{console.log("Removing item from cart with id:",e),i(t=>t.filter(t=>t.id!==e))}},children:t})},useCart=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useCart must be used within a CartProvider");return e}},571:function(e){e.exports={cartPage:"CartPage_cartPage__vwWtz",header:"CartPage_header__1VYtf",title:"CartPage_title__5m4EB",size:"CartPage_size__opyuR",quantity:"CartPage_quantity__qFWHM",price:"CartPage_price__RaHSI",cartItems:"CartPage_cartItems__jQM2p",cartItem:"CartPage_cartItem__5giNx",leftColumn:"CartPage_leftColumn__jAtDg",name:"CartPage_name__2ryEG",imageWrapper:"CartPage_imageWrapper__rpGmm",image:"CartPage_image__ukPL0",rightColumn:"CartPage_rightColumn__TnksP",removeButton:"CartPage_removeButton__npCOv",sizeSelector:"CartPage_sizeSelector___Zp4p",quantityInput:"CartPage_quantityInput__eDSV6",totalSection:"CartPage_totalSection__TFoLU",totalLabel:"CartPage_totalLabel__cSuVd",totalAmount:"CartPage_totalAmount__wusrS",checkoutButton:"CartPage_checkoutButton__D4izq"}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(2265),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var r,s={},c=null,u=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)},6691:function(e,t,a){e.exports=a(679)},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[413,971,472,744],function(){return e(e.s=8826)}),_N_E=e.O()}]);