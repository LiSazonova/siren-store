(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{747:function(e,t,n){Promise.resolve().then(n.t.bind(n,6573,23)),Promise.resolve().then(n.t.bind(n,3736,23)),Promise.resolve().then(n.t.bind(n,2579,23)),Promise.resolve().then(n.t.bind(n,3141,23)),Promise.resolve().then(n.bind(n,7948)),Promise.resolve().then(n.t.bind(n,2489,23)),Promise.resolve().then(n.t.bind(n,3343,23)),Promise.resolve().then(n.bind(n,4833)),Promise.resolve().then(n.bind(n,372)),Promise.resolve().then(n.bind(n,4027))},4833:function(e,t,n){"use strict";n.r(t);var r=n(7437);n(2265);var a=n(7948),s=n(220);n(3343);var o=n(680);t.default=e=>{let{children:t}=e;return(0,r.jsx)(s.rg,{clientId:"126878375392-5s628gs319unv9jkbqn921jicbiip8j8.apps.googleusercontent.com",children:(0,r.jsxs)(o.H,{children:[t,(0,r.jsx)(a.ToastContainer,{})]})})}},372:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Header_Header}});var r=n(7437),a=n(2265),s=n(4225),o=n.n(s),c=n(1396),i=n.n(c),l=n(6691),u=n.n(l),h=n(2458),d=n.n(h),Logo_Logo=()=>(0,r.jsx)(i(),{href:"/",className:d().logo,children:(0,r.jsx)(u(),{src:"/images/logo/logo.svg",alt:"Siren Store",width:52,height:78,priority:!0})}),m=n(4033),_=n(1032),g=n.n(_),Desktop=()=>{let e=(0,m.usePathname)(),isActive=t=>e===t;return(0,r.jsxs)("nav",{className:g().menu,children:[(0,r.jsx)(i(),{href:"/",className:"".concat(g().menuItem," ").concat(isActive("/")?g().active:""),children:"Головна"}),(0,r.jsx)(i(),{href:"/collections",className:"".concat(g().menuItem," ").concat(isActive("/collections")?g().active:""),children:"Колекції"}),(0,r.jsx)(i(),{href:"/about",className:"".concat(g().menuItem," ").concat(isActive("/about-us")?g().active:""),children:"Про нас"})]})},p=n(3038),v=n.n(p),x=n(6408),SearchBar_SearchBar=e=>{let{isDesktop:t=!1,isSearchOpen:n=!1,onOpen:a,onClose:s}=e;return t?(0,r.jsx)("div",{className:v().searchContainer,children:(0,r.jsxs)("div",{className:v().searchBar,children:[(0,r.jsx)("input",{type:"text",placeholder:"Пошук",className:v().searchInput}),(0,r.jsx)(x.Z,{name:"search_grey",className:v().searchIcon,width:25,height:24,alt:"Search Icon"})]})}):n?(0,r.jsxs)("div",{className:v().searchContainer,children:[(0,r.jsxs)("div",{className:v().searchBar,children:[(0,r.jsx)("input",{type:"text",placeholder:"Пошук",className:v().searchInput}),(0,r.jsx)(x.Z,{name:"search_grey",className:v().searchIcon,width:25,height:24,alt:"Search Icon"})]}),(0,r.jsx)("button",{onClick:s,"aria-label":"Close Search",className:v().closeButton,children:(0,r.jsx)(x.Z,{name:"close",width:25,height:24,alt:"Close Icon"})})]}):(0,r.jsx)("button",{onClick:a,"aria-label":"Search Icon",className:v().searchButton,children:(0,r.jsx)(x.Z,{name:"search",width:25,height:24,alt:"Search Icon"})})},f=n(3549),j=n.n(f),DesktopIcons_DesktopIcons=e=>{let{onUserClick:t,onCartClick:n,cartItems:a}=e;return(0,r.jsxs)("div",{className:j().desktopIcons,children:[(0,r.jsx)(i(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(x.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,r.jsxs)("div",{className:j().cartWrapper,onClick:n,children:[(0,r.jsx)(x.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),a>0&&(0,r.jsx)("span",{className:j().cartCount,children:a})]}),(0,r.jsx)(x.Z,{name:"user",width:24,height:24,alt:"Пользователь",onClick:t})]})},C=n(7842),b=n.n(C),Icons_Icons=e=>{let{onCartClick:t,cartCount:n}=e;return(0,r.jsxs)("div",{className:b().icons,children:[(0,r.jsx)(i(),{href:"https://www.instagram.com/__the_siren__official_/profilecard/?igsh=MTA5OWE4d3luaXA2eg==",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(x.Z,{name:"inst",width:24,height:24,alt:"Instagram"})}),(0,r.jsxs)("div",{className:b().cartWrapper,onClick:t,children:[(0,r.jsx)(x.Z,{name:"basket",width:24,height:24,alt:"Корзина"}),n>0&&(0,r.jsx)("span",{className:b().cartCount,children:n})]})]})},k=n(4089),I=n.n(k),M=n(680),MobileMenu_MobileMenu=()=>{let[e,t]=(0,a.useState)(!1),n=(0,m.usePathname)(),{user:s,logout:o}=(0,M.a)(),c=(0,m.useRouter)(),l=(0,a.useRef)(null),u=(0,a.useRef)(null),isActive=e=>n===e;return(0,a.useEffect)(()=>{let handleClickOutside=e=>{var n;!l.current||l.current.contains(e.target)||(null===(n=u.current)||void 0===n?void 0:n.contains(e.target))||t(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{ref:u,onClick:e=>{e.stopPropagation(),t(e=>!e)},"aria-label":e?"Close Menu":"Open Menu",className:I().menuButton,children:(0,r.jsx)(x.Z,{name:e?"close":"menu",width:24,height:24,alt:e?"Close Menu":"Open Menu"})}),e&&(0,r.jsx)("nav",{className:"".concat(I().mobileMenu," ").concat(e?I().mobileMenuOpen:""),ref:l,children:(0,r.jsxs)("div",{className:I().mobileMenuContainer,children:[(0,r.jsx)(i(),{href:"/",className:"".concat(I().mobileMenuItem," ").concat(isActive("/")?I().active:""),onClick:()=>t(!1),children:"Головна"}),(0,r.jsx)(i(),{href:"/collections",className:"".concat(I().mobileMenuItem," ").concat(isActive("/collections")?I().active:""),onClick:()=>t(!1),children:"Колекції"}),(0,r.jsx)(i(),{href:"/about",className:"".concat(I().mobileMenuItem," ").concat(isActive("/about-us")?I().active:""),onClick:()=>t(!1),children:"Про нас"}),(0,r.jsx)("div",{className:"".concat(I().mobileMenuItem," ").concat(I().authLinks),children:s?(0,r.jsx)("button",{onClick:()=>{o(),t(!1),c.push("/")},className:I().authButton,children:"Вийти"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{href:"/auth/login",onClick:()=>t(!1),className:I().authLink,children:"Вхід"}),(0,r.jsx)(i(),{href:"/auth/register",onClick:()=>t(!1),className:I().authLink,children:"Реєстрація"})]})})]})})]})},N=n(4027),Header_Header=()=>{let{user:e,logout:t}=(0,M.a)(),{cartItems:n}=(0,N.useCart)(),[s,c]=(0,a.useState)(!1),[l,u]=(0,a.useState)(!1),h=(0,m.useRouter)(),d=(0,a.useRef)(null),handleCartClick=()=>{h.push("/cart")};return(0,a.useEffect)(()=>{let handleClickOutside=e=>{d.current&&!d.current.contains(e.target)&&u(!1)};return l?document.addEventListener("mousedown",handleClickOutside):document.removeEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[l]),(0,r.jsx)("header",{className:o().header,children:(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsxs)("div",{className:o().desktopOnly,children:[(0,r.jsx)(Logo_Logo,{}),(0,r.jsx)(Desktop,{}),(0,r.jsx)(SearchBar_SearchBar,{isDesktop:!0}),(0,r.jsx)(DesktopIcons_DesktopIcons,{onUserClick:()=>u(!l),onCartClick:handleCartClick,cartItems:n.length}),l&&(0,r.jsx)("div",{className:o().authDropdown,ref:d,children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["Привіт, ",e.username,"!"]}),(0,r.jsx)("button",{onClick:()=>{t(),u(!1),h.push("/")},children:"ВИЙТИ"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{href:"/auth/login",children:"ВХІД"}),(0,r.jsx)(i(),{href:"/auth/register",children:"РЕЄСТРАЦІЯ"})]})})]}),(0,r.jsxs)("div",{className:o().mobileOnly,children:[(0,r.jsx)(Logo_Logo,{}),(0,r.jsxs)("div",{className:o().mobileNav,children:[(0,r.jsx)(SearchBar_SearchBar,{isDesktop:!1,isSearchOpen:s,onOpen:()=>c(!0),onClose:()=>c(!1)}),!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Icons_Icons,{onCartClick:handleCartClick,cartCount:n.length}),(0,r.jsx)(MobileMenu_MobileMenu,{})]})]})]})]})})}},6408:function(e,t,n){"use strict";var r=n(7437);n(2265);var a=n(6691),s=n.n(a),o=n(5328),c=n.n(o);t.Z=e=>{let{name:t,width:n,height:a,alt:o,className:i,onClick:l}=e;return(0,r.jsx)("div",{className:"".concat(c().iconContainer," ").concat(i||""),onClick:l,role:"button","aria-label":o||t,tabIndex:0,onKeyPress:e=>{"Enter"===e.key&&(null==l||l())},children:(0,r.jsx)(s(),{src:"/images/icons/".concat(t,".svg"),alt:o||t,width:n,height:a})})}},680:function(e,t,n){"use strict";n.d(t,{H:function(){return AuthProvider},a:function(){return useAuth}});var r=n(7437),a=n(2265),s=n(6454),o=n(2164);let c=(0,a.createContext)(void 0),useAuth=()=>{let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=e=>{let{children:t}=e,[n,i]=(0,a.useState)(null),register=async(e,t,n)=>{try{let r=await (0,s.a$)(e,t,n);return i(r.data),localStorage.setItem("jwt",r.data.token),{success:!0,data:r.data}}catch(e){if(e instanceof o.d7){var r,a;return{success:!1,message:(null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Ошибка регистрации"}}if(e instanceof Error)return{success:!1,message:e.message||"Ошибка регистрации"};return{success:!1,message:"Произошла неизвестная ошибка"}}},login=async(e,t)=>{try{let n=await (0,s.pH)(e,t);return i(n.data),localStorage.setItem("jwt",n.data.token),!0}catch(e){return o.d7,!1}};return(0,r.jsx)(c.Provider,{value:{register,login,user:n,logout:()=>{i(null),localStorage.removeItem("jwt")}},children:t})}},4027:function(e,t,n){"use strict";n.r(t),n.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var r=n(7437),a=n(2265);let s=(0,a.createContext)(void 0),CartProvider=e=>{let{children:t}=e,[n,o]=(0,a.useState)([]),[c,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("cartItems");if(e){let t=JSON.parse(e);console.log("Loaded cart items from localStorage:",t),o(t)}else console.log("No cart items found in localStorage.")}catch(e){console.error("Ошибка при восстановлении данных корзины:",e)}finally{i(!0)}},[]),(0,a.useEffect)(()=>{c&&(console.log("Saving cart items to localStorage:",n),localStorage.setItem("cartItems",JSON.stringify(n)))},[n,c]),(0,r.jsx)(s.Provider,{value:{cartItems:n,addToCart:e=>{o(t=>{let n=t.find(t=>t.id===e.id&&t.size===e.size);return n?(console.log("Updating quantity for existing item:",n),t.map(t=>t.id===e.id&&t.size===e.size?{...t,quantity:t.quantity+e.quantity}:t)):(console.log("Adding new item to cart:",e),[...t,e])})},removeCartItem:e=>{console.log("Removing item from cart with id:",e),o(t=>t.filter(t=>t.id!==e))}},children:t})},useCart=()=>{let e=(0,a.useContext)(s);if(!e)throw Error("useCart must be used within a CartProvider");return e}},6454:function(e,t,n){"use strict";n.d(t,{a$:function(){return registerUser},pH:function(){return loginUser}});var r=n(4829);let a=r.default.create({baseURL:"http://localhost:1337"});a.interceptors.request.use(e=>{let t=localStorage.getItem("jwt");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let registerUser=(e,t,n)=>a.post("/api/auth/local/register",{username:e,email:t,password:n}),loginUser=(e,t)=>a.post("/api/auth/local",{identifier:e,password:t});t.ZP=a},2489:function(){},3549:function(e){e.exports={desktopIcons:"DesktopIcons_desktopIcons__N7bkl",cartWrapper:"DesktopIcons_cartWrapper__YxCJ2",cartCount:"DesktopIcons_cartCount__q8784"}},1032:function(e){e.exports={menu:"Desktop_menu__nCmTb",menuItem:"Desktop_menuItem__JIdXG",active:"Desktop_active__HI_zY"}},4225:function(e){e.exports={header:"Header_header__AF_3G",container:"Header_container__3JNoS",desktopOnly:"Header_desktopOnly___h00J",mobileOnly:"Header_mobileOnly__y57Tj",mobileNav:"Header_mobileNav__6HOrM",authDropdown:"Header_authDropdown__V1fW3",cartIcon:"Header_cartIcon__d8fsU",cartBadge:"Header_cartBadge__cmo77"}},5328:function(e){e.exports={iconButton:"Icon_iconButton__yY2i9"}},7842:function(e){e.exports={icons:"Icons_icons__nHEjY",cartWrapper:"Icons_cartWrapper__sY3EY",cartCount:"Icons_cartCount___IWCa"}},2458:function(e){e.exports={logo:"Logo_logo__c5nVK"}},4089:function(e){e.exports={menuButton:"MobileMenu_menuButton__m4HHI",mobileMenu:"MobileMenu_mobileMenu__EfGda",mobileMenuOpen:"MobileMenu_mobileMenuOpen__M703R",mobileMenuContainer:"MobileMenu_mobileMenuContainer__lDgGV",mobileMenuItem:"MobileMenu_mobileMenuItem__Vuz_a",authLinks:"MobileMenu_authLinks__xc0g2",authLink:"MobileMenu_authLink__Wp1OV",active:"MobileMenu_active__GurVK",authButton:"MobileMenu_authButton__1MzSh"}},3038:function(e){e.exports={searchBar:"SearchBar_searchBar__hUGQq",searchInput:"SearchBar_searchInput__jatEt",searchIcon:"SearchBar_searchIcon__Hx8hf",searchContainer:"SearchBar_searchContainer__uph7D",closeButton:"SearchBar_closeButton__xl5On",searchButton:"SearchBar_searchButton__lFj8T"}}},function(e){e.O(0,[413,326,787,524,971,472,744],function(){return e(e.s=747)}),_N_E=e.O()}]);